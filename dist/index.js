var c=Object.defineProperty;var k=Object.getOwnPropertyDescriptor;var x=Object.getOwnPropertyNames;var C=Object.prototype.hasOwnProperty;var O=(t,e)=>{for(var i in e)c(t,i,{get:e[i],enumerable:!0})},D=(t,e,i,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let l of x(e))!C.call(t,l)&&l!==i&&c(t,l,{get:()=>e[l],enumerable:!(n=k(e,l))||n.enumerable});return t};var R=t=>D(c({},"__esModule",{value:!0}),t);var S={};O(S,{EnchantScrollbar:()=>E});module.exports=R(S);var u=class{constructor(e,i){this.mouseOnThumb=!1;var n;this.container=e,this.options=i,this.element=document.createElement("div"),this.element.classList.add("scrollbar-thumb"),this.element.style.position="absolute",this.element.style.top="0",this.element.style.width="8px",this.element.style.backgroundColor="#999",this.element.style.borderRadius=`${(n=this.options)==null?void 0:n.borderRadius}px`,this.init()}init(){}getElement(){return this.element}getContainer(){return this.container}getMouseOnThumb(){return this.mouseOnThumb}setHeight(e){this.element.style.height=`${e}px`}setPosition(e){this.element.style.top=`${e}px`}show(){}hide(){}},H=u;var p=class{constructor(e,i){this.mouseOnTrack=!1;this.container=e,this.options=i,this.thumb=new H(e,i),this.init()}init(){var e;this.element=document.createElement("div"),this.element.classList.add("scrollbar-track"),this.element.style.position="absolute",this.element.style.top="0",this.element.style.right="0",this.element.style.bottom="0",this.element.style.width="8px",this.element.style.height="100%",this.element.style.borderRadius=`${(e=this.options)==null?void 0:e.borderRadius}px`,this.element.style.backgroundColor="rgba(255, 255, 255, 0.2)",this.element.appendChild(this.thumb.getElement()),this.container===document.body?this.thumb.setHeight(window.innerHeight/document.body.scrollHeight*window.innerHeight):this.thumb.setHeight(this.container.clientHeight/this.container.scrollHeight*this.container.clientHeight)}getElement(){return this.element}getThumb(){return this.thumb}getContainer(){return this.container}getMouseOnTrack(){return this.mouseOnTrack}addEventListener(){}show(){}hide(){}},g=p;var L=(i=>(i[i.VERTICAL=0]="VERTICAL",i[i.HORIZONTAL=1]="HORIZONTAL",i))(L||{}),m=L;var h=!1;function w(t){let e=t.getContainer(),i=t.getTrack().getElement(),n=t.getTrack().getThumb().getElement(),l=0,a=!1;e===document.body&&(e=document.body),t.getTrack().getElement().addEventListener("mousedown",o=>{if(a)return;o.preventDefault();let r=t.getTrack().getElement().getBoundingClientRect(),s=o.clientY-r.top-n.offsetHeight/2;s=Math.max(0,Math.min(s,r.height-n.offsetHeight)),n.style.top=`${s}px`;let d=s/(r.height-n.offsetHeight);e.scrollTop=d*(e.scrollHeight-e.clientHeight),y(o)}),t.getElement().addEventListener("mouseover",()=>{t.show()}),t.getElement().addEventListener("mouseleave",()=>{h||t.hide()}),n.addEventListener("mouseenter",()=>a=!0),n.addEventListener("mouseleave",()=>a=!1),n.addEventListener("mousedown",y);function y(o){o.preventDefault(),h=!0,l=o.clientY-t.getTrack().getElement().getBoundingClientRect().top-t.getTrack().getThumb().getElement().offsetTop,document.addEventListener("mousemove",T),document.addEventListener("mouseup",f)}function T(o){o.preventDefault();let r=t.getTrack().getElement().getBoundingClientRect(),s=o.clientY-r.top-l;s=Math.max(0,Math.min(s,r.height-t.getTrack().getThumb().getElement().offsetHeight)),t.getTrack().getThumb().setPosition(s);let d=s/(r.height-t.getTrack().getThumb().getElement().offsetHeight);e===document.body?window.scrollTo(0,d*(document.body.scrollHeight-window.innerHeight)):e.scrollTop=d*(e.scrollHeight-e.clientHeight)}function f(o){o.preventDefault(),h=!1,document.removeEventListener("mousemove",T),document.removeEventListener("mouseup",f),a||t.hide()}}function M(t,e){t===document.body?(window.addEventListener("scroll",()=>{if(h)return;let i=window.scrollY/(document.body.scrollHeight-window.innerHeight);e.syncScrollbar(i),e.show()}),window.addEventListener("scrollend",()=>{h||e.hide()})):(t.addEventListener("scroll",()=>{if(h)return;let i=t.scrollTop/(t.scrollHeight-t.clientHeight);e.syncScrollbar(i),e.show()}),t.addEventListener("scrollend",()=>{h||e.hide()}))}var v=class{constructor(e,i,n=m.VERTICAL){this.options=i,e!==document.body?(this.container=e,this.direction=n,this.track=new g(e,this.options),this.createScrollbar("absolute")):(this.container=document.body,this.direction=n,this.track=new g(e,this.options),this.createScrollbar("absolute"),this.createScrollbar("fixed")),this.addEventListener(),this.init()}init(){w(this),setTimeout(()=>{this.track.getThumb().getMouseOnThumb()||this.hide()},1e3)}getElement(){return this.element}getContainer(){return this.container}getDirection(){return this.direction}getTrack(){return this.track}createScrollbar(e){this.element=document.createElement("div"),this.element.classList.add("scrollbar"),this.element.style.position=e,this.element.style.right="0",this.element.style.top="0",this.element.style.height="100%",this.element.style.width="10px",this.element.style.transition="opacity 0.5s ease-in-out",this.element.style.zIndex="999",this.element.appendChild(this.track.getElement())}show(){this.element.style.opacity="1"}hide(){this.element.style.opacity="0"}addEventListener(){M(this.container,this)}syncScrollbar(e){this.track.getThumb().setPosition(e*(this.track.getElement().offsetHeight-this.track.getThumb().getElement().offsetHeight))}},b=v;var E=class{constructor(){this.options={scrollbarWidth:8,borderRadius:8,zIndex:999,theme:"light",minimizeOnBlur:!0,autoHide:!0,autoHideDelay:1e3,padding:0}}init(e,i){this.element=e,e?(this.element.style.position="relative",this.element.style.overflow="hidden",this.scrollableDiv=document.createElement("div"),this.scrollableDiv.classList.add("enchant-scrollable-content"),this.scrollableDiv.style.position="absolute",this.scrollableDiv.style.top="0",this.scrollableDiv.style.left="0",this.scrollableDiv.style.width="100%",this.scrollableDiv.style.height="100%",this.scrollableDiv.style.overflow="auto",this.scrollableDiv.innerHTML=this.element.innerHTML,this.element.innerHTML="",this.element.appendChild(this.scrollableDiv),this.scrollbar=new b(this.scrollableDiv,this.options,m.VERTICAL),this.element.appendChild(this.scrollbar.getElement())):(this.element=document.body,this.scrollbar=new b(this.element,this.options,m.VERTICAL),this.element.appendChild(this.scrollbar.getElement())),this.injectStyle()}getElement(){return this.element}getScrollableDiv(){return this.scrollableDiv}getScrollbar(){return this.scrollbar}injectStyle(){let e=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.appendChild(document.createTextNode(`
          .enchant-scrollable-content::-webkit-scrollbar {
              display: none;
          }
          .enchant-scrollable-content {
              scrollbar-width: none;
            }
          `)),this.element===document.body&&i.appendChild(document.createTextNode(`
                ::-webkit-scrollbar {
                    display: none;
                }
                body {
                    scrollbar-width: none;
                }
            `)),e.appendChild(i)}};0&&(module.exports={EnchantScrollbar});
